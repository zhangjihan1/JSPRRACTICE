<!-- 
下代码属于Deep Knowledge Education，其用途仅为教学展示，任何人不可复制，使用，或用于任何其他用途，违者必追究法律责任。
The code below belongs to Deep Knowledge Education. 
It is only for demonstration as part of education process.
You cannot copy, use the code, nor can you use it for any other purpose.
Offenders must be held accountable.
Date: 17 Sep 2020
-->
<!-- 
    练习说明：使用CSS和jQuery设计一个让400个方块来回移动的动画
    练习知识点：
            * CSS Transform
            * jQuery DOM manipulation
            * jQuery Animate

    知识点参考： https://www.w3schools.com/cssref/css3_pr_animation.asp
          https://www.w3schools.com/cssref/css3_pr_animation-keyframes.asp
          https://thoughtbot.com/blog/transitions-and-transforms

 -->


<!DOCTYPE html>
<html>

<head>
    <title>盒子动画</title>
    <style>
        #boxes div {
            width: 50px;
            height: 50px;
            margin: 5px;
            position: relative;
            animation: rotation 10s infinite linear; 
        }



        @keyframes rotation {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(359deg);
            }
        }

    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function() {
            let duration = 1000;
            for ( i = 0; i < 400; i++) {
                let randomColor = Math.floor(Math.random()* 16777215).toString(16);
                let divEle = $("<div></div>");
                divEle.css("background-color", `#${randomColor}`);
                moveAnimate(divEle, duration);
                $("#boxes").append(divEle);
                duration += 100;
            }

            function moveAnimate(divEle, duration) {
                divEle.animate({ left: "1000px"}, duration);
                divEle.animate({ left: "0px"}, duration, () => moveAnimate(divEle, duration));
            }
        });
    </script>
</head>

<body>
    <div id="boxes">

    </div>
</body>

</html>